@layout('layout')
@section('content')

<div class="ui container">
  <div class="main">
    <h3 class="ui dividing header">增加菜单</h3>
    <form class="ui form" action="/menu/edit/{{menuInfo.ni_id}}" method="post">
      {{ csrfField() }}

      @!component('components.form.select', {
        selectClassName: 'fluid',
        label: '分类菜单',
        name: 'parent_id',
        items: menusData,
        value_field: 'ni_id',
        name_field: 'menu_name',
        defaultFirst: {
          value: 0,
          name: '根级菜单'
        },
        disabled: false,
        defaultOption: menuInfo.parent_id,
        level: true,
        getErrorFor,
        hasErrorFor,
        old
      })

      @!component('components.form.input', {
        label: '菜单名称',
        name: 'menu_name',
        type: 'text',
        value: menuInfo.menu_name,
        placeholder: '填写菜单名称',
        getErrorFor,
        hasErrorFor,
        old
      })

      @!component('components.form.input', {
        label: '控制器名称',
        name: 'controller',
        type: 'text',
        value: menuInfo.controller,
        placeholder: '填写控制器名称',
        getErrorFor,
        hasErrorFor,
        old
      })

      @!component('components.form.radio', {
        className: 'inline',
        inlineStyle: true,
        label: '控制器运行状态',
        name: 'run_status',
        items: [
          {
            value: 0,
            option: '前台显示'
          },
          {
            value: 1,
            option: '后台处理'
          }
        ],
        value_field: 'value',
        name_field: 'option',
        defaultOption: menuInfo.run_status,
        getErrorFor,
        hasErrorFor,
        old
      })

      @!component('components.form.input', {
        label: '排序',
        name: 'menu_sort',
        type: 'number',
        placeholder: '填写排序',
        value: menuInfo.menu_sort,
        getErrorFor,
        hasErrorFor,
        old
      })

      <button class="ui blue button" type="submit">提交</button>
    </form>
  </div>
</div>

@endsection
